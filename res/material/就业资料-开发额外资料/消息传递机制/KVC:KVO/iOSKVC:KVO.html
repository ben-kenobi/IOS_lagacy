<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><script src="iOS%20KVC%20&amp;%20KVO%20_files/jquery_002.js" async="" type="text/javascript"></script>
    <meta charset="UTF-8">

    <title>iOS KVC &amp; KVO - CocoaChina_让移动开发更简单</title>
    <meta name="keywords" content="iOS,KVC,KVOiPhone开发,iOS开发,iPad开发,Mac开发,苹果开发中文站,iPhone开发中文站,CocoaChina首页, Mac OS开发, Cocoa介绍,移动互联网,触控科技,Cocoa,Apple,developer,iOS,iPhone,iPad,iMac,iPod Touch,iPhone5,iPhone4S,iPad3,招聘,iPhone程序员,Objective-c,iPhone应用外包,ios6,ios面试,Cocos2d-x,cocos2d,iTunes,App Store,苹果开发">
    <meta name="description" content="CocoaChina前身是全球成立最早规模最大的苹果开发中文站，现致力为所有移动开发者提供资讯服务、问答服务、代码下载、工具库及人才招聘服务">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="baidu-tc-cerfication" content="3300a939a1098c27e94457b75a0bb8c1">
    <script src="iOS%20KVC%20&amp;%20KVO%20_files/analytics.js" async=""></script><script src="iOS%20KVC%20&amp;%20KVO%20_files/hm.js"></script><script src="iOS%20KVC%20&amp;%20KVO%20_files/ga.js" async="" type="text/javascript"></script><script src="iOS%20KVC%20&amp;%20KVO%20_files/analytics.js" async=""></script><script src="iOS%20KVC%20&amp;%20KVO%20_files/ca-pub-1180518835303646.js" type="text/javascript" async=""></script><script type="text/javascript">
        function gotoMobilePage() {
            var sUserAgent = navigator.userAgent.toLowerCase();
            var agent_iphone = /iphone/i;
            var agent_android = /android/i;
            //var agent_ipad = /ipad/i;
            var agent_ipod = /ipod/i;
            var agent_wphone = /windows phone/i;
            if(agent_iphone.test(sUserAgent) || agent_android.test(sUserAgent) || agent_ipod.test(sUserAgent) || agent_wphone.test(sUserAgent)){
                var re = /\/\w+\/\d+\/(\d+)\.html/, 
                    result = re.exec(window.location.pathname);
                if ( result )
                {
                    window.location.href = "http://www.cocoachina.com/cms/wap.php?action=article&id=" + result[1];
                } else {
                    window.location.href = "http://m.cocoachina.com/";
                }
            }
        }
        gotoMobilePage(); 
    </script>
    <link rel="stylesheet" href="iOS%20KVC%20&amp;%20KVO%20_files/global.css" media="all">
    <link rel="stylesheet" href="iOS%20KVC%20&amp;%20KVO%20_files/index.css" media="all">
    <link href="iOS%20KVC%20&amp;%20KVO%20_files/module.css" rel="stylesheet">
    <link href="iOS%20KVC%20&amp;%20KVO%20_files/style.css" rel="stylesheet">
    <link href="iOS%20KVC%20&amp;%20KVO%20_files/navheader.css" rel="stylesheet">
    <script src="iOS%20KVC%20&amp;%20KVO%20_files/jquery.js" type="text/javascript"></script>
    <script type="text/javascript" src="iOS%20KVC%20&amp;%20KVO%20_files/navbar.js"></script>
    <script type="text/javascript" src="iOS%20KVC%20&amp;%20KVO%20_files/abase.js"></script><script type="text/javascript" charset="gbk" src="iOS%20KVC%20&amp;%20KVO%20_files/prebat.js"></script>
    
<script src="iOS%20KVC%20&amp;%20KVO%20_files/share.js"></script><link href="iOS%20KVC%20&amp;%20KVO%20_files/share_style1_32.css" rel="stylesheet"></head>
<body>

    <div class="nav-header">
            <div class="nav-header-top">
                <div class="nav-logo nav-fl"><a href="http://www.cocoachina.com/"><img src="iOS%20KVC%20&amp;%20KVO%20_files/logo.png"></a></div>
                <div class="nav-list nav-fl">
                    <ul>
                        <li><a href="http://www.cocoachina.com/news/">资讯</a></li>
                        <li><a href="http://www.cocoachina.com/bbs/">论坛</a></li>
                        <li><a target="_blank" href="http://code.cocoachina.com/" title="CODE">代码</a></li>
                        <li><a target="_blank" href="http://job.cocoachina.com/" title="JOB">招聘</a></li>
                        <li><a target="_blank" href="http://cvp.cocos.com/" title="CVP">CVP</a></li>
                    </ul>
                </div>
                <div class="nav-search nav-fl">
                    <div class="nav-search-flag" style="display:block"><img src="iOS%20KVC%20&amp;%20KVO%20_files/search-icon.png"></div>
                    <div class="nav-search-form" style="display:none">
                        <form action="/cms/plus/search.php" name="formsearch" method="post" target="_blank">
                            <input name="kwtype" value="0" type="hidden">
                            <input name="searchtype" value="titlekeyword" type="hidden">
                            <input name="keyword" placeholder="站内搜索" type="text">
                            <input type="button">
                        </form>
                    </div>
                </div>
                <div class="nav-user nav-fr">
                    <!-- #region 未登录时显示此区域 -->
                    <div class="nav-user-login" style="display:block">
                        <a href="http://www.cocoachina.com/bbs/login.php">登录</a>|
                        <a href="http://www.cocoachina.com/bbs/register.php">注册</a>
                    </div>
                    <!-- #endregion -->
                    <!-- #region 已登录时显示此区域 -->
                    <div class="nav-user-name" style="display:none">
                        <div><alert></alert><img src="iOS%20KVC%20&amp;%20KVO%20_files/user.png">Guest</div>
                        <ul>
                            <li><a href="#"><img src="iOS%20KVC%20&amp;%20KVO%20_files/i-man.png">我的主页</a></li>
                            <li><alert></alert><a href="#"><img src="iOS%20KVC%20&amp;%20KVO%20_files/i-mail.png">我的消息</a></li>
                            <li><a href="#"><img src="iOS%20KVC%20&amp;%20KVO%20_files/i-setting.png">账户设置</a></li>
                            <li><a href="http://www.cocoachina.com/ios/20140224/index-offline.html"><img src="iOS%20KVC%20&amp;%20KVO%20_files/i-logout.png">退出</a></li>
                        </ul>
                    </div>
                    <!-- #endregion -->
                </div>
                <div class="nav-clear"></div>
            </div>
        <div class="nav-header-bottom">
            <ul>
                <li><a class="light" id="ios" href="http://www.cocoachina.com/ios/" title="ios">iOS开发</a></li>
                <li><a id="swift" href="http://www.cocoachina.com/swift/" title="swift">Swift</a></li>
                <li><a id="app_store" href="http://www.cocoachina.com/appstore/" title="appstore">App Store研究</a></li>
                <li><a id="design" href="http://www.cocoachina.com/design/" title="design">产品设计</a></li>
                <li><a id="review" href="http://www.cocoachina.com/review/" title="review">应用评测</a></li>
                <li><a id="game" href="http://www.cocoachina.com/game/" title="game">游戏开发</a></li>
                <li><a id="apple" href="http://www.cocoachina.com/apple/" title="apple">苹果相关</a></li>
                <!-- <li><a id="cocos" href="/cocos/" title="cocos">Cocos引擎</a></li>-->
                <li><a id="webapp" href="http://www.cocoachina.com/webapp/" title="webapp">WebApp</a></li>
                <li><a id="android" href="http://www.cocoachina.com/android/" title="android">安卓相关</a></li>
                <li><a id="market" href="http://www.cocoachina.com/market/" title="market">营销推广</a></li>
                <li><a id="industry" href="http://www.cocoachina.com/industry/" title="industry">业界动态</a></li>
                <li><a id="programmer" href="http://www.cocoachina.com/programmer/" title="programmer">程序人生</a></li>
            </ul>
        </div>
    </div>
<script language="javascript">
    function IsPC() {
        var userAgentInfo = navigator.userAgent;
        var Agents = new Array("Android", "iPhone", "SymbianOS", "Windows Phone", "iPod");
        var flag = true;
        for (var v = 0; v < Agents.length; v++) {
        if (userAgentInfo.indexOf(Agents[v]) > 0) { flag = false; break; }
        }
        return flag;
    }
    if (!IsPC()){
           window.location.href = "http://www.cocoachina.com/cms/wap.php?action=article&id=7866";
    }

</script>
<!--middle-->
<div class="middle clearfix">
    <div class="m-wrap">
        <div class="m-ad2" style="margin-top:12px;">
            <div class="ad2-l">
                <script async="" src="iOS%20KVC%20&amp;%20KVO%20_files/adsbygoogle.js"></script>
                <!-- CC首页底部左侧72890 -->
                <ins data-adsbygoogle-status="done" class="adsbygoogle" style="display:inline-block;width:728px;height:90px" data-ad-client="ca-pub-1180518835303646" data-ad-slot="8012423965"><ins id="aswift_0_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent"><ins id="aswift_0_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;" frameborder="0" height="90" width="728"></iframe></ins></ins></ins>
                <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
            <div class="ad2-r">
                <script async="" src="iOS%20KVC%20&amp;%20KVO%20_files/adsbygoogle.js"></script>
                <!-- CC资讯页25090 -->
                <ins data-adsbygoogle-status="done" class="adsbygoogle" style="display:inline-block;width:250px;height:90px" data-ad-client="ca-pub-1180518835303646" data-ad-slot="9489157162"><ins id="aswift_1_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:250px;background-color:transparent"><ins id="aswift_1_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:250px;background-color:transparent"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;" frameborder="0" height="90" width="250"></iframe></ins></ins></ins>
                <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
        </div>
        <!--left-->
        <div class="detail-left float-l">
            <p class="crumbs"><a href="http://www.cocoachina.com/" title="首页">首页</a> &gt;<a href="http://www.cocoachina.com/ios" title="iOS开发"><span id="type_name">iOS开发</span></a></p>
            <div class="detail-main">
                <h2>iOS KVC &amp; KVO</h2>
                <div class="p-ico clearfix">
                    <div>
                        <span class="ml0">2014-02-24 09:38</span>
                        <span>编辑：
                        <a href="http://www.cocoachina.com/bbs/u.php?action=feed&amp;uid=340873" id="field_author" target="_blank">suiling</a></span>
                        <span>分类：<a href="http://www.cocoachina.com/ios/" target="_blank">iOS开发</a></span>
                        <span id="source">来源：CocoaChina</span>

                        <div class="float-r">
                            <span id="artical_comment_cnt"><i></i>0</span>
                            <span><i class="view"></i><script src="iOS%20KVC%20&amp;%20KVO%20_files/count_002.html" language="javascript"></script>16066</span>
                    </div>
                    </div>
                </div>
                <div class="p-ico clearfix">
                    <p class="related float-l"><a href="http://www.cocoachina.com/cms/tags.php?/iOS/" target="_blank">iOS</a><a href="http://www.cocoachina.com/cms/tags.php?/KVO/" target="_blank">KVO</a><a href="http://www.cocoachina.com/cms/tags.php?/KVC/" target="_blank">KVC</a></p>
                    <input id="article_id" value="7866" type="hidden">
                </div>
                <div class="adsbox clearfix">
                    <div class="float-l">
                        <div class="float-l"><b>招聘信息：</b></div>
                        <ul class="float-l" id="invitelist" style="margin-top: -17.7096px;"><li><a href="http://job.cocoachina.com/job/show?id=65299" target="_blank">iOS高级开发工程师</a></li><li><a href="http://job.cocoachina.com/job/show?id=67188" target="_blank">iOS高级开发工程师</a></li><li><a href="http://job.cocoachina.com/job/show?id=66967" target="_blank">手游JAVA 服务器端主程</a></li><li><a href="http://job.cocoachina.com/job/show?id=66966" target="_blank">cocos2dx手游客户端主程</a></li><li><a href="http://job.cocoachina.com/job/show?id=67275" target="_blank">安卓开发工程师</a></li><li><a href="http://job.cocoachina.com/job/show?id=67274" target="_blank">iOS工程师</a></li><li><a href="http://job.cocoachina.com/job/show?id=67276" target="_blank">PHP开发工程师</a></li><li><a href="http://job.cocoachina.com/job/show?id=67356" target="_blank">iOS工程师</a></li><li><a href="http://job.cocoachina.com/job/show?id=67159" target="_blank">iOS开发工程师</a></li><li><a href="http://job.cocoachina.com/job/show?id=66873" target="_blank">iOS开发工程师</a></li><li><a href="http://job.cocoachina.com/job/show?id=67264" target="_blank">资深iOS工程师</a></li></ul>
                    </div>
                    <div class="float-r">
                        <a href="javascript:void(0)" class="prev"></a>
                        <a href="javascript:void(0)" class="next"></a>
                    </div>
                </div>
                <div id="detailbody" class="field_body">
                    <div style="text-align: center;"><img src="iOS%20KVC%20&amp;%20KVO%20_files/4196_140224094237_1.png" alt="" style="cursor:pointer" onclick="window.open('/cms/uploads/allimg/140224/4196_140224094237_1.png')" width="550"></div>
<div><span style="font-size: 14px;">转自：</span><a href="http://regrecall.github.io/blog/2013/09/03/ios-kvc-and-kvo/" target="_blank" style="font-size: 14px;"><span style="color: rgb(0, 0, 255);">Regrecall blogger</span></a></div>
<div>&nbsp;</div>
<div><strong>Key Value Coding</strong></div>
<div>Key Value Coding是cocoa的一个标准组成部分，它能让我们可以通过name(key)的方式访问property, 
不必调用明确的property accssor, 如我们有个property叫做foo, 
我们可以foo直接访问它，同样我们也可以用KVC来完成[Object valueForKey:@“foo”], 有同学就会问了， 
这样做有什么好处呢？主要的好处就是来减少我们的代码量。</div>
<div>&nbsp;</div>
<div>下面我们来看看几个例子，就明白了KVO的用法和好处了，假设这样个类叫做People,</div>
<pre><ol class="dp-c"><li class="alt"><span><span>@</span><span class="keyword">interface</span><span>&nbsp;People:&nbsp;NSObject&nbsp;</span></span></li><li><span>&nbsp;&nbsp;</span></li><li class="alt"><span>@property&nbsp;(nonatomic,&nbsp;strong)&nbsp;NSString&nbsp;*name;&nbsp;</span></li><li><span>@property&nbsp;(nonatomic,&nbsp;strong)&nbsp;NSNumber&nbsp;*age;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li><span>@end&nbsp;</span></li></ol></pre>
<div>场景1，apple 官网的一个例子，当我们需要统计很多People的时候，每一行是一个人的实例，并且有2列属性，name, age, 这时候我们可以会这样做，</div>
<pre><ol class="dp-c"><li class="alt"><span><span>-&nbsp;(id)tableView:(NSTableView&nbsp;*)tableview&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;objectValueForTableColumn:(id)column&nbsp;row:(NSInteger)row&nbsp;{&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;People&nbsp;*people&nbsp;=&nbsp;[peoleArray&nbsp;objectAtIndex:row];&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;([[column&nbsp;identifier]&nbsp;isEqualToString:@</span><span class="string">"name"</span><span>])&nbsp;{&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;[people&nbsp;name];&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;([[column&nbsp;identifier]&nbsp;isEqualToString:@</span><span class="string">"age"</span><span>])&nbsp;{&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;[people&nbsp;age];&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;And&nbsp;so&nbsp;on.</span><span>&nbsp;</span></span></li><li><span>}&nbsp;</span></li></ol></pre>
<div>同样我们也可以用KVC，帮助我们化简这些if, 因为name, age其实都是property, 我们可以直接通过key来访问，所以整理过后是</div>
<pre><ol class="dp-c"><li class="alt"><span><span>People&nbsp;*people&nbsp;=&nbsp;[peopleArray&nbsp;objectAtIndex:row];&nbsp;</span></span></li><li><span><span class="keyword">return</span><span>&nbsp;[people&nbsp;valueForKey:[column&nbsp;identifier]];&nbsp;</span></span></li></ol></pre>
<div>场景2，这下我们有了server, server的某个api(listPeople??), 
会返回我们json格式一个数组，里面包含这样dict{name:xx, age:xx}这样的数据， 
我们希望用这些dict数据构造出我们的people来，通常我们的做法是，为我们People类写一个static 
factory方法专门用来处理dict来， 把dict里面的数据取出来, 
然后创建个空的People对象，然后依次设置property。然而当这样类似People的与server交互的类多了，我们就要为每个类都要加上这
样的wrapper, 是否有种简单办法来设置这样的属性，当然就是我们的KVC了。</div>
<pre><ol class="dp-c"><li class="alt"><span><span>-(id)&nbsp;initWithDictionary:(NSMutableDictionary*)&nbsp;jsonObject&nbsp;</span></span></li><li><span>{&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>((self&nbsp;=&nbsp;[</span><span class="keyword">super</span><span>&nbsp;init]))&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[self&nbsp;init];&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[self&nbsp;setValuesForKeysWithDictionary:jsonObject];&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;self;&nbsp;</span></span></li><li class="alt"><span>}&nbsp;</span></li></ol></pre>
<div>setValuesForKeysWithDictionary, 会为我们把和dictionary的key名字相同的class 
proerty设置上dict中key对应的value, 是不是很方便呀，但是有同学又要问了 
如果json里面的某些key就是和object的property名字不一样呢，或者有些server返回的字段是objc保留字如”id”, 
“description”等， 我们也希望也map dict to object, 
这时候我们就需要用上setValue:forUndefinedKey, 因为如果我们不处理这些Undefined 
Key，还是用setValuesForKeysWithDictionary就会 抛出异常。</div>
<pre><ol class="dp-c"><li class="alt"><span><span>-&nbsp;(</span><span class="keyword">void</span><span>)setValue:(id)value&nbsp;forUndefinedKey:(NSString&nbsp;*)key&nbsp;</span></span></li><li><span>{&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>([key&nbsp;isEqualToString:@</span><span class="string">"nameXXX"</span><span>])&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.name&nbsp;=&nbsp;value;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>([key&nbsp;isEqualToString:@</span><span class="string">"ageXXX"</span><span>])&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.age&nbsp;=&nbsp;value;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">else</span><span>&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="keyword">super</span><span>&nbsp;setValue:value&nbsp;forKey:key];&nbsp;</span></span></li><li class="alt"><span>}&nbsp;</span></li></ol></pre>
<div>所以只要重载这个方法，就可以处理了那些无法跟property相匹配的key了，默认的实现是抛出一个
NSUndefinedKeyException，又有同学发问了如果 
这时候server返回的People有了内嵌的json(如Products{product1{count:xx, sumPrice:xx}}, 
product2{} ….)，又该怎么办，能把这个内嵌的json转化成我们的客户端的Product类嘛， 
当然可以这时候就需要重载setValue:forKey, 单独处理”Products”这个key, 把它wrapper成我们需要的class</div>
<pre><ol class="dp-c"><li class="alt"><span><span>-(</span><span class="keyword">void</span><span>)&nbsp;setValue:(id)value&nbsp;forKey:(NSString&nbsp;*)key&nbsp;</span></span></li><li><span>{&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;<span class="keyword">if</span><span>([key&nbsp;isEqualToString:@</span><span class="string">"products"</span><span>])&nbsp;</span></span></li><li><span>&nbsp;&nbsp;{&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">for</span><span>(NSMutableDictionary&nbsp;*productDict&nbsp;</span><span class="keyword">in</span><span>&nbsp;value)&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Prodcut&nbsp;*product&nbsp;=&nbsp;[[Product&nbsp;alloc]&nbsp;initWithDictionary:prodcutDict];&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[self.products&nbsp;addObject:product];&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li><li><span>&nbsp;&nbsp;}&nbsp;</span></li><li class="alt"><span>}&nbsp;</span></li></ol></pre>
<div>场景3，我们需要把一个数组里的People的名字的首字母大写，并且把新的名字存入新的数组， 
这时候通常做法会是遍历整个数组，然后把每个People的name取出来，调用 capitalizedString 
然后把新的String加入新的数组中。 有了KVC就有了新做法:</div>
<div>&nbsp;</div>
<pre><ol class="dp-c"><li class="alt"><span><span>[array&nbsp;valueForKeyPath:@</span><span class="string">"name.capitalizedString"</span><span>]&nbsp;</span></span></li></ol></pre>
<div>&nbsp;</div>
<div>我们看到valueForKeyPath, 为什么用valueForKeyPath, 不用valueForKey, 
因为valueForKeyPath可以传递关系，例如这里是每个People的name 
property的String的capitalizedString property， 
而valueForKey不能传递这样的关系，所以对于dict里面的dict, 
我们也只能用valueForKeyPath。这里我们也看到KVC对于array(set), 
做了特殊处理，不是简单操作collection上，而是 
针对这些collection里面的元素进行操作，同样KVC也提供更多地操作，例如@sum这些针对collection，有兴趣的同学可以去用下。</div>
<div>&nbsp;</div>
<div>场景4，当我们执行NSArray *products = [people valueForKey:@“products”]，我们希望的是[people products]，可是people没有这样的方法， KVC又会为我们带来些什么呢？</div>
<div>&nbsp;</div>
<div>首先会去找getProdcuts or products or isProducts, 按照这样的顺序去查找，第一个找到的就返回</div>
<div>然后会去找countOfProducts and either objectInProductsAtIndex: or 
ProductsAtIndexes, 如果找到，就会去找countOfProducts and enumeratorOfProducts and
 memberOfProducts 
这个2个方法都找到了，KVC才会给我们返回一个代理的NSKeyValueArray，用于我们后续的操作（addProduct之类的）。</div>
<div>&nbsp;</div>
<div>如果有个变量叫做 products, isProducts, products or isProducts, 
KVC会直接就使用这样的变量，如果你觉得直接用这样的变量是破坏了封装， 可以禁止这样的行为发生，重载 
+accessInstanceVariablesDirectly，返回NO。</div>
<div>&nbsp;</div>
<div>简单来说，valueForKey, 会给我们带来一个代理array, 如果我们实现了某些方法，上诉的这些方法只是针对NSArray, 对于mutable的collection, 我们还需要提供其他 方法的实现才行。</div>
<div>&nbsp;</div>
<div><strong>Key Value Observing</strong></div>
<div>Key Value Observing, 顾名思义就是一种observer 
模式用于监听property的变化，KVO跟NSNotification有很多相似的地方， 
用addObserver:forKeyPath:options:context:去start observer, 
用removeObserver:forKeyPath:context去stop observer, 
回调就是observeValueForKeyPath:ofObject:change:context:。</div>
<div>&nbsp;</div>
<pre><ol class="dp-c"><li class="alt"><span><span>-&nbsp;(</span><span class="keyword">void</span><span>)removeObservation&nbsp;{&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;[self.object&nbsp;removeObserver:self&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forKeyPath:self.property];&nbsp;</span></li><li><span>}&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li><span>-&nbsp;(<span class="keyword">void</span><span>)addObservation&nbsp;{&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;[self.object&nbsp;addObserver:self&nbsp;forKeyPath:self.property&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;options:0&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context:(__bridge&nbsp;<span class="keyword">void</span><span>*)self];&nbsp;</span></span></li><li><span>}&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li><span>-&nbsp;(<span class="keyword">void</span><span>)observeValueForKeyPath:(NSString&nbsp;*)keyPath&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ofObject:(id)object&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change:(NSDictionary&nbsp;*)change&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context:(<span class="keyword">void</span><span>&nbsp;*)context&nbsp;{&nbsp;</span></span></li><li><span>&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;((__bridge&nbsp;id)context&nbsp;==&nbsp;self)&nbsp;{&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;只处理跟我们当前class的property更新</span><span>&nbsp;</span></span></li><li><span>&nbsp;&nbsp;}&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;<span class="keyword">else</span><span>&nbsp;{&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="keyword">super</span><span>&nbsp;observeValueForKeyPath:keyPath&nbsp;ofObject:object&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change:change&nbsp;context:context];&nbsp;</span></li><li><span>&nbsp;&nbsp;}&nbsp;</span></li><li class="alt"><span>}&nbsp;</span></li></ol></pre>
<div>&nbsp;</div>
<div>对于KVO来说，我们要做的只是简单update 
我们的property数据，不需要像NSNotificationCenter那样关心是否有人在监听你的请求，如果没有人监听该怎么办， 
所有addObserver, removeObserver, callback 都是想要监听的你的property的class做的事情。 
曾经做个项目，用NSNotificationCenter post Notification在一个network 
callback里面，可是这时候因为最早的addObserver的class被释放了， 接着生成的addObserver的class, 
就接受到了上一个observer该监听的事件，所以造成了错误，那时候的解决方案是为addObserve 
key做unique，不会2次addObserver 的key是相同的，但是有了KVO, 
我们同样可以用KVO来完成，当addOberver的的object remove的时候，就不会有这样的callback被调用了。</div>
<div>&nbsp;</div>
<div>KVO给我们提供了更少的代码，和比NSNotification好处，不需要修改被观察的class, 永远都是观察你的人做事情。 
但是KVO也有些毛病， 1. 如果没有observer监听key path, removeObsever:forKeyPath:context:
 这个key path, 就会crash, 不像NSNotificationCenter removeObserver。 2. 
对代码你很难发现谁监听你的property的改动，查找起来比较麻烦。 3. 对于一个复杂和相关性很高的class，最好还是不要用KVO, 
就用delegate 或者 notification的方式比较简洁。</div>
<div>&nbsp;</div>
<div><strong>Summary</strong></div>
<div>尽量使用KVC可以大大地减少我们的代码量，当遇到property的时候，可以多想想是否可以KVC来帮助我，是否可以用KVC来重构代码， 当需要加入observer模式时，可以考虑下KVO, 在高性能的observer里面，KVO会给我们很好的帮助。</div>
<p>&nbsp;</p>
                </div>
                <div id="page" style="padding:0"></div>

                <div class="wx_article">
                    <div class="article_weixin">
                        <img src="iOS%20KVC%20&amp;%20KVO%20_files/article_weixin.jpg" alt="搜索CocoaChina微信公众号：CocoaChina" height="131" width="131">
                        <div class="article_scan">微信扫一扫</div>
                        <div class="article_txt"><span style="color:#999999">订阅每日移动开发及APP推广热点资讯<br>公众号：</span>CocoaChina</div>
                    </div>
                </div>

               <div class="clearfix tgbox">
                    <a href="mailto:support@cocoachina.com" class="tg float-l" target="_blank">我要投稿</a>&nbsp;&nbsp;
                    <a style="margin-left:10px" href="javascript:void(0)" onclick="add_favors(7866,'iOS KVC &amp; KVO')" class="tg float-l">收藏文章</a>
                    <div class="share float-r">分享到：
                        <div data-bd-bind="1447601693203" class="bdsharebuttonbox bdshare-button-style1-32" id="sharediv"><a href="#" class="bds_more" data-cmd="more"></a> <a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a><a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a> <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a></div>
                    </div>
                </div>


                <a class="zanbox" href="javascript:void(0)" id="zanbox" onclick="postDigg('good',7866)" title="哎呦，不错噢，赞一个">
                    <strong id="newdigg">
                     <script src="iOS%20KVC%20&amp;%20KVO%20_files/count.html" language="javascript"></script>66
                    </strong>
                </a>
            </div>

            <div class="article-prev">上一篇：<a href="http://www.cocoachina.com/ios/20140221/7863.html">论坛源码推荐（2月21日）：Facebook Paper布局过渡效果  输入框浮动标签效果</a> </div>
            <div class="article-next">下一篇：<a href="http://www.cocoachina.com/ios/20140224/7868.html">iOS 7最佳实践：一个天气App案例</a> </div>

            <!--相关资讯-->
            <div class="part-wrap clearfix">
                <h3>相关资讯</h3>
                <ul class="info-list clearfix">
                    <li>
                        <a href="http://www.cocoachina.com/ios/20151110/14102.html" target="_blank" title="当我们的开发技巧已经到达一定高度时，如何让开发效率更上一层楼呢？答案就是使用开发工具！在这篇文章中，我会向你介绍一些帮助我提升编码速度和工作效率的工具。">【译】17个提升iOS开发效率的必用工具</a>
                     </li>
<li>
                        <a href="http://www.cocoachina.com/ios/20151111/14077.html" target="_blank" title="iOS 9中，有一些旧的APIs被放弃和不再建议使用，为新的全新开发的或用来做过渡的APIs让位。在iOS 9中的例子就是全新的Contacts framework, 它以更流行的模式来替代旧的 AddressBook 框架，更简单和直接。 
 ">初窥iOS 9联系人框架</a>
                     </li>
<li>
                        <a href="http://www.cocoachina.com/ios/20151106/14072.html" target="_blank" title="BabyBluetooth 是一个最简单易用的蓝牙库，基于CoreBluetooth的封装，并兼容iOS和Mac OS X">iOS 蓝牙开发（四）BabyBluetooth蓝牙库介绍</a>
                     </li>
<li>
                        <a href="http://www.cocoachina.com/ios/20151105/14071.html" target="_blank" title="这一节介绍如何使用app发布一个peripheral，给其他的central连接">iOS 蓝牙开发（三）app作为外设被连接的实现</a>
                     </li>
<li>
                        <a href="http://www.cocoachina.com/ios/20151106/14069.html" target="_blank" title="题目来自百度的面试记录，有些问题我能回答一下，不能回答的或有更好的回答我放个相关链接供参考">这些 iOS 面试基础题目，你都深入了解吗？</a>
                     </li>
<li>
                        <a href="http://www.cocoachina.com/ios/20151110/14067.html" target="_blank" title="最近把iOS里的UI组件重新整理了一遍，简单来看一下常用的组件以及它们的实现">iOS开发——UI组件（个人整理）</a>
                     </li>
<li>
                        <a href="http://www.cocoachina.com/ios/20151105/14065.html" target="_blank" title="贴纸功能出现在很多图片社交中，就是图片上面贴图片，对贴纸而言就是需要控制贴纸的位置、旋转、大小，说到底是处理gesture、transform、frame, 如果需要多张贴纸，需要考虑增加删除和正在操作的对">[XTPaster] iOS 贴纸功能实现</a>
                     </li>
<li>
                        <a href="http://www.cocoachina.com/ios/20151104/14036.html" target="_blank" title="今天，苹果向开发者发布了 iOS 9.2 第二个测试版，距离发布 iOS 9.2 第一个开发者测试版相隔一周时间，距离发布 iOS 9.1 正式版相隔两周时间">苹果向开发者发布 iOS 9.2 第二个测试版</a>
                     </li>
<li>
                        <a href="http://www.cocoachina.com/ios/20151030/13975.html" target="_blank" title="前段时间下载了招商银行掌上银行app，发现它的密码输入时弹出的键盘是自定义的，每次数字展示的排布都不一样，所以准备自己也实现一个（强行给自己找个理由）。
演示效果">【投稿】iOS自定义键盘</a>
                     </li>
<li>
                        <a href="http://www.cocoachina.com/ios/20151029/13958.html" target="_blank" title="利用auto layout实现cell的详情页面布局，通过点击事件来实现这个重新刷新界面的效果；高仿百度糯米iOS，版本号：5.13.0；一行搞定tableView，只对数据结构操作即可完成布局；利用最简单的日历制作cal">源码推荐(10.29)：cell下拉点击，高仿百度糯米iOS</a>
                     </li>

                </ul>
            </div>
            <div class="clearfix" style="margin-top:20px;">
                <script async="" src="iOS%20KVC%20&amp;%20KVO%20_files/adsbygoogle.js"></script>
                <!-- CC评论框 -->
                <ins data-adsbygoogle-status="done" class="adsbygoogle" style="display:inline-block;width:750px;height:90px" data-ad-client="ca-pub-1180518835303646" data-ad-slot="8242010366"><ins id="aswift_2_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:750px;background-color:transparent"><ins id="aswift_2_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:750px;background-color:transparent"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_2" name="aswift_2" style="left:0;position:absolute;top:0;" frameborder="0" height="90" width="750"></iframe></ins></ins></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
            <!-- 评论模块start -->
            
            <div class="clearfix" id="commnet_list_holder" style="margin-bottom:50px;">
                <div class="glab-comment-form">
                    <div class="dcbt">我来说两句</div>
                    <div class="user-head">
                        <img id="user_face_url" src="iOS%20KVC%20&amp;%20KVO%20_files/none.gif" alt="" height="43" width="43">
                    </div>
                    <div class="form-region">
                        <textarea name="comment" id="main_comment_content" cols="30" rows="10" placeholder="你怎么看？快来评论一下吧！"></textarea>
                        <a class="submitform" id="main_comment_bt">发表评论</a>
                        <div class="unlogin-mask">
                            <div>您还没有登录！请<a href="http://www.cocoachina.com/bbs/login.php">登录</a>或<a href="http://www.cocoachina.com/bbs/register.php">注册</a></div>
                        </div>
                    </div>
                </div>
                <div id="glab-comment-callback-msg" class="glab-comment-info"></div>
                <div class="glab-comment-title">所有评论（<span>0</span>）</div>
                <div class="glab-commentlist" id="commentlist">
                    <a style="display: none;" id="refresh_comment_btn" href="javascript:;" onclick="$('#morecomment').trigger('click')">刷新评论</a>
                </div>
                <div class="glab-comment-more" id="morecomment" style="display:none">
                    更多评论
                </div>
            </div>
            
            <!-- 评论模块end -->


        </div>
        <!--./left-->
        <!--侧边栏-->
        <div class="clearfix newslist">
            <div class="rightSide detail-right float-r">
                <!--两周热门资讯推荐-->
                <div>
                    <div class="part-wrap clearfix">
                        <h3>热门资讯</h3>
                        <ul class="related-hot">
                            <li class="clearfix"><a href="http://www.cocoachina.com/ios/20151106/14069.html" class="float-l pic" target="_blank" title="这些 iOS 面试基础题目，你都深入了解吗？"><img src="iOS%20KVC%20&amp;%20KVO%20_files/f2e8444090ef4dffe19a4d07bc832770.jpg" style="max-height:60px" alt="这些 iOS 面试基础题目，你都深入了解吗？"></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/ios/20151106/14069.html" target="_blank" title="这些 iOS 面试基础题目，你都深入了解吗？">这些 iOS 面试基础题目，你都深入了解吗？</a></p><p class="hits">点击量<span>13866</span></p></div></li><li class="clearfix"><a href="http://www.cocoachina.com/ios/20151102/13924.html" class="float-l pic" target="_blank" title="Objective-C 的现代语法和新特性"><img src="iOS%20KVC%20&amp;%20KVO%20_files/de203a522032c8f4ad784bf540af3f0c.jpg" style="max-height:60px" alt="Objective-C 的现代语法和新特性"></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/ios/20151102/13924.html" target="_blank" title="Objective-C 的现代语法和新特性">Objective-C 的现代语法和新特性</a></p><p class="hits">点击量<span>8411</span></p></div></li><li class="clearfix"><a href="http://www.cocoachina.com/ios/20151110/14102.html" class="float-l pic" target="_blank" title="【译】17个提升iOS开发效率的必用工具"><img src="iOS%20KVC%20&amp;%20KVO%20_files/c81c182890d34b641a46c70c40dc63fd.jpg" style="max-height:60px" alt="【译】17个提升iOS开发效率的必用工具"></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/ios/20151110/14102.html" target="_blank" title="【译】17个提升iOS开发效率的必用工具">【译】17个提升iOS开发效率的必用工具</a></p><p class="hits">点击量<span>7805</span></p></div></li><li class="clearfix"><a href="http://www.cocoachina.com/webapp/20151030/13985.html" class="float-l pic" target="_blank" title="HTML5 崛起：不再高冷，不再小众"><img src="iOS%20KVC%20&amp;%20KVO%20_files/60b513419316a145fa34aeb84d0556c3.jpg" style="max-height:60px" alt="HTML5 崛起：不再高冷，不再小众"></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/webapp/20151030/13985.html" target="_blank" title="HTML5 崛起：不再高冷，不再小众">HTML5 崛起：不再高冷，不再小众</a></p><p class="hits">点击量<span>6708</span></p></div></li><li class="clearfix"><a href="http://www.cocoachina.com/ios/20151110/14067.html" class="float-l pic" target="_blank" title="iOS开发——UI组件（个人整理）"><img src="iOS%20KVC%20&amp;%20KVO%20_files/66d9d9ad083079d10170c91fe8c00bc6.jpg" style="max-height:60px" alt="iOS开发——UI组件（个人整理）"></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/ios/20151110/14067.html" target="_blank" title="iOS开发——UI组件（个人整理）">iOS开发——UI组件（个人整理）</a></p><p class="hits">点击量<span>6135</span></p></div></li><li class="clearfix"><a href="http://www.cocoachina.com/ios/20151103/14007.html" class="float-l pic" target="_blank" title="关于 @synchronized，这儿比你想知道的还要多"><img src="iOS%20KVC%20&amp;%20KVO%20_files/d58e98c9208acf7654c3fc222f613354.jpg" style="max-height:60px" alt="关于 @synchronized，这儿比你想知道的还要多"></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/ios/20151103/14007.html" target="_blank" title="关于 @synchronized，这儿比你想知道的还要多">关于 @synchronized，这儿比你想知道的还要多</a></p><p class="hits">点击量<span>5855</span></p></div></li><li class="clearfix"><a href="http://www.cocoachina.com/ios/20151104/14009.html" class="float-l pic" target="_blank" title="【译】4个你需要知道的Asset Catalog的秘密"><img src="iOS%20KVC%20&amp;%20KVO%20_files/6845edd2489ffa5b76d7d7a45a949177.jpg" style="max-height:60px" alt="【译】4个你需要知道的Asset Catalog的秘密"></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/ios/20151104/14009.html" target="_blank" title="【译】4个你需要知道的Asset Catalog的秘密">【译】4个你需要知道的Asset Catalog的秘密</a></p><p class="hits">点击量<span>5696</span></p></div></li><li class="clearfix"><a href="http://www.cocoachina.com/programmer/20151030/13949.html" class="float-l pic" target="_blank" title="程序员技术晋升非正式攻略"><img src="iOS%20KVC%20&amp;%20KVO%20_files/68b634342adc09a46914d39a433b8a79.jpg" style="max-height:60px" alt="程序员技术晋升非正式攻略"></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/programmer/20151030/13949.html" target="_blank" title="程序员技术晋升非正式攻略">程序员技术晋升非正式攻略</a></p><p class="hits">点击量<span>4735</span></p></div></li><li class="clearfix"><a href="http://www.cocoachina.com/industry/20151111/14140.html" class="float-l pic" target="_blank" title="出大事了！A商要联合程序员们打淘宝分京东了！"><img src="iOS%20KVC%20&amp;%20KVO%20_files/200787b3ae4ba49efb868a5ccb124084.png" style="max-height:60px" alt="出大事了！A商要联合程序员们打淘宝分京东了！"></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/industry/20151111/14140.html" target="_blank" title="出大事了！A商要联合程序员们打淘宝分京东了！">出大事了！A商要联合程序员们打淘宝分京东了！</a></p><p class="hits">点击量<span>4611</span></p></div></li><li class="clearfix noborder-b"><a href="http://www.cocoachina.com/ios/20151030/13975.html" class="float-l pic" target="_blank" title="【投稿】iOS自定义键盘"><img src="iOS%20KVC%20&amp;%20KVO%20_files/fc7a4d8cb47eed70ad8ddb9624022fc6.jpg" style="max-height:60px" alt="【投稿】iOS自定义键盘"></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/ios/20151030/13975.html" target="_blank" title="【投稿】iOS自定义键盘">【投稿】iOS自定义键盘</a></p><p class="hits">点击量<span>4392</span></p></div></li>
                        </ul>
                    </div>
               </div>
               <!--./两周热门资讯推荐-->
                <!-- 广告位：资讯频道列表页面右侧300*90-->
                <div class="job-ad"><script>CNZZ_SLOT_RENDER('324555');</script><script type="text/javascript" charset="gbk" src="iOS%20KVC%20&amp;%20KVO%20_files/appgcm_002.js"></script></div>
               <!--综合评论-->
                <div class="part-wrap clearfix" style="margin-top: 15px;">
                    <h3>综合评论</h3>
                    <ul class="related-comment clearfix" id="all_comments_holder"><li class=""><span class="hide_comment">算账算的好啊，你怎么就知道市场一定相信你，毕竟你已经不是第一个电商了，淘宝关门是早晚的事儿，但是也绝对不是你这理想主义就能推翻的啊</span><br><p><span>jianchuan0118</span><span>评论了</span><a target="_blank" title="因为A商，互联网的寒冬不再冷" href="http://www.cocoachina.com/industry/20151113/14204.html"><span>因为A商，互联网的寒冬不再冷...</span></a></p></li><li class=""><span class="hide_comment">挑战淘宝，挑战阿里巴巴？？别想了，洗洗睡吧！</span><br><p><span>andy2010</span><span>评论了</span><a target="_blank" title="因为A商，互联网的寒冬不再冷" href="http://www.cocoachina.com/industry/20151113/14204.html"><span>因为A商，互联网的寒冬不再冷...</span></a></p></li><li class=""><span class="hide_comment">gun </span><br><p><span>piao_</span><span>评论了</span><a target="_blank" title="因为A商，互联网的寒冬不再冷" href="http://www.cocoachina.com/industry/20151113/14204.html"><span>因为A商，互联网的寒冬不再冷...</span></a></p></li><li class=""><span class="hide_comment">mark</span><br><p><span>caodaxun</span><span>评论了</span><a target="_blank" title="Storyboard中的UIScrollView使用自动布局，使其能够滚动" href="http://www.cocoachina.com/ios/20150104/10810.html"><span>Storyboard中的UIScrollView使...</span></a></p></li><li class=""><span class="hide_comment">mark</span><br><p><span>caodaxun</span><span>评论了</span><a target="_blank" title="Storyboard中的UIScrollView使用自动布局，使其能够滚动" href="http://www.cocoachina.com/ios/20150104/10810.html"><span>Storyboard中的UIScrollView使...</span></a></p></li><li class=""><span class="hide_comment">好</span><br><p><span>nothing123</span><span>评论了</span><a target="_blank" title="Storyboard中的UIScrollView使用自动布局，使其能够滚动" href="http://www.cocoachina.com/ios/20150104/10810.html"><span>Storyboard中的UIScrollView使...</span></a></p></li><li class=""><span class="hide_comment">sb</span><br><p><span>la0fu</span><span>评论了</span><a target="_blank" title="因为A商，互联网的寒冬不再冷" href="http://www.cocoachina.com/industry/20151113/14204.html"><span>因为A商，互联网的寒冬不再冷...</span></a></p></li><li class=""><span class="hide_comment">代码：
Class currentClass &amp;#61; [self class];
    for (int i &amp;#61; 0; i &amp;#60; 10; i++&amp;#41; {
        NSLog(@"Following the isa pointer %d times gives %p", i, currentClass&amp;#41;;
        NSLog(@"classname&amp;#61;%@",NSStringFromClass(currentClass&amp;#41;&amp;#41;;
        currentClass &amp;#61; object_getClass(currentClass&amp;#41;;
    }

结果：
2015-11-14 12:47:43.445 TestLoadView[4531:1078820] Following the isa pointer 0 times gives 0x7f9f58f82d40
2015-11-14 12:47:43.445 TestLoadView[4531:1078820] classname&amp;#61;TestClass
2015-11-14 12:47:43.446 TestLoadView[4531:1078820] Following the isa pointer 1 times gives 0x7f9f58f82d70
2015-11-14 12:47:43.446 TestLoadView[4531:1078820] classname&amp;#61;TestClass
2015-11-14 12:47:43.469 TestLoadView[4531:1078820] Following the isa pointer 2 times gives 0x101dd5d50
2015-11-14 12:47:43.469 TestLoadView[4531:1078820] classname&amp;#61;NSObject
2015-11-14 12:47:43.469 TestLoadView[4531:1078820] Following the isa pointer 3 times gives 0x101dd5d50
2015-11-14 12:47:43.469 TestLoadView[4531:1078820] classname&amp;#61;NSObject
2015-11-14 12:47:43.469 TestLoadView[4531:1078820] Following the isa pointer 4 times gives 0x101dd5d50
2015-11-14 12:47:43.469 TestLoadView[4531:1078820] classname&amp;#61;NSObject
2015-11-14 12:47:43.470 TestLoadView[4531:1078820] Following the isa pointer 5 times gives 0x101dd5d50
2015-11-14 12:47:43.470 TestLoadView[4531:1078820] classname&amp;#61;NSObject
2015-11-14 12:47:43.470 TestLoadView[4531:1078820] Following the isa pointer 6 times gives 0x101dd5d50
2015-11-14 12:47:43.470 TestLoadView[4531:1078820] classname&amp;#61;NSObject
2015-11-14 12:47:43.470 TestLoadView[4531:1078820] Following the isa pointer 7 times gives 0x101dd5d50
2015-11-14 12:47:43.471 TestLoadView[4531:1078820] classname&amp;#61;NSObject
2015-11-14 12:47:43.471 TestLoadView[4531:1078820] Following the isa pointer 8 times gives 0x101dd5d50
2015-11-14 12:47:43.494 TestLoadView[4531:1078820] classname&amp;#61;NSObject
2015-11-14 12:47:43.494 TestLoadView[4531:1078820] Following the isa pointer 9 times gives 0x101dd5d50
2015-11-14 12:47:43.494 TestLoadView[4531:1078820] classname&amp;#61;NSObject


这就说明了NSObject Metal Class的isa指向了自己</span><br><p><span>lengkuazhong</span><span>评论了</span><a target="_blank" title="Objective-C Runtime 运行时之一：类与对象" href="http://www.cocoachina.com/ios/20141031/10105.html"><span>Objective-C Runtime 运行时之一...</span></a></p></li><li class=""><span class="hide_comment">（currentClass &amp;#61; objc_getClass((__bridge void *&amp;#41;currentClass&amp;#41;;）这个语句错了
要用object_getClass才是获取isa的
</span><br><p><span>lengkuazhong</span><span>评论了</span><a target="_blank" title="Objective-C Runtime 运行时之一：类与对象" href="http://www.cocoachina.com/ios/20141031/10105.html"><span>Objective-C Runtime 运行时之一...</span></a></p></li><li class="noborder-b"><span class="hide_comment">楼主总结的不错！</span><br><p><span>yangshu5188</span><span>评论了</span><a target="_blank" title="这8种武器点亮程序员的个人品牌" href="http://www.cocoachina.com/programmer/20151113/14024.html"><span>这8种武器点亮程序员的个人品牌...</span></a></p></li></ul>
                </div>
                <!--./综合评论-->
                <!--相关帖子-->
                <div class="part-wrap clearfix" style="margin:15px 0 15px 0;">
                    <h3>相关帖子</h3>
                    <ul class="related-comment clearfix">
                        <script charset="gb2312" src="iOS%20KVC%20&amp;%20KVO%20_files/new.html"></script><li><a href="http://www.cocoachina.com/bbs/read.php?tid=331874" target="_blank">求助Objective-C调用JavaScript对象方法</a></li><li><a href="http://www.cocoachina.com/bbs/read.php?tid=331872" target="_blank">EditBox与TextFiled!</a></li><li><a href="http://www.cocoachina.com/bbs/read.php?tid=331871" target="_blank">关于TabBar高度的问题</a></li><li><a href="http://www.cocoachina.com/bbs/read.php?tid=331870" target="_blank">storyboard里的viewcontroller里view上拖进去的控件运行起来看不到?</a></li><li><a href="http://www.cocoachina.com/bbs/read.php?tid=331869" target="_blank">深入iOS语言使用的是消息结构而非函数调用，即iOS的运行期如此动态的原理</a></li><li><a href="http://www.cocoachina.com/bbs/read.php?tid=331868" target="_blank">iOS 类似于小米手环app的通信机制是怎么样的？</a></li><li><a href="http://www.cocoachina.com/bbs/read.php?tid=331867" target="_blank">说说这两个东西区别</a></li><li><a href="http://www.cocoachina.com/bbs/read.php?tid=331866" target="_blank">苹果开发者账号购买退款迟迟不退</a></li><li class="clearfix noborder-b"><a href="http://www.cocoachina.com/bbs/read.php?tid=331865" target="_blank">求助gamecenter获取GKLocalPlayer信息后返回值为nil</a></li>
                    </ul>
                </div>
                <!--./相关帖子-->
                <iframe class="share_self" scrolling="no" src="iOS%20KVC%20&amp;%20KVO%20_files/index.html" frameborder="0" height="550" width="230"></iframe>
                <script async="" src="iOS%20KVC%20&amp;%20KVO%20_files/adsbygoogle.js"></script>
                <!-- CC列表页面230x230 -->
                <ins data-adsbygoogle-status="done" class="adsbygoogle" style="display:inline-block;width:230px;height:230px" data-ad-client="ca-pub-1180518835303646" data-ad-slot="6765277166"><ins id="aswift_3_expand" style="display:inline-table;border:none;height:230px;margin:0;padding:0;position:relative;visibility:visible;width:230px;background-color:transparent"><ins id="aswift_3_anchor" style="display:block;border:none;height:230px;margin:0;padding:0;position:relative;visibility:visible;width:230px;background-color:transparent"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_3" name="aswift_3" style="left:0;position:absolute;top:0;" frameborder="0" height="230" width="230"></iframe></ins></ins></ins>
                <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
        </div>
        <!--./侧边栏-->
    </div>

    <div id="coco-store" style="display:none">
        <div class="storebox">
            <h5>提示</h5>
            <h3>已经收藏该篇文章</h3>
            <p class="p1"><a href="http://www.cocoachina.com/bbs/u.php?action=favor&amp;tag=1" target="_blank">去我的收藏夹</a></p>
            <p class="p2"><a href="http://www.cocoachina.com/bbs/login.php">请登录</a></p>
        </div>
    </div> <!--收藏提示-->
</div>

<script type="text/javascript">

function postDigg(ftype,aid)
{
    var taget_obj = document.getElementById('newdigg');
    var saveid = GetCookie('diggid');
    if(saveid != null)
    {
        var saveids = saveid.split(',');
        var hasid = false;
        saveid = '';
        j = 1;
        for(i=saveids.length-1;i>=0;i--)
        {
            if(saveids[i]==aid && hasid) continue;
            else {
                if(saveids[i]==aid && !hasid) hasid = true;
                saveid += (saveid=='' ? saveids[i] : ','+saveids[i]);
                j++;
                if(j==20 && hasid) break;
                if(j==19 && !hasid) break;
            }
        }
        if(hasid) { alert("您已经顶过该帖，请不要重复顶帖 ！"); return; }
        else saveid += ','+aid;
        SetCookie('diggid',saveid,1);
    }
    else
    {
        SetCookie('diggid',aid,1);
    }
    myajax = new DedeAjax(taget_obj,false,false,'','','');
    var url = "/cms/plus/digg_ajax.php?action="+ftype+"&id="+aid;
    myajax.SendGet2(url);
    DedeXHTTP = null;
    $('#zanbox').addClass('zanbox-selected');
}
function getDigg(aid)
{
    var taget_obj = document.getElementById('newdigg');
    myajax = new DedeAjax(taget_obj,false,false,'','','');
    myajax.SendGet2("/cms/plus/digg_ajax.php?id="+aid);
    DedeXHTTP = null;
}


//显示对应的导航：
$(function(){
    var article_id = $('#article_id').val();
    var saveid = GetCookie('diggid');

    if(saveid != null)
    {
        var saveids = saveid.split(',');
        var hasid = false;
        saveid = '';
        j = 1;
        for(i=saveids.length-1;i>=0;i--)
        {
            if(saveids[i]==article_id && hasid) continue;
            else {
                if(saveids[i]==article_id && !hasid) hasid = true;
                saveid += (saveid=='' ? saveids[i] : ','+saveids[i]);
                j++;
                if(j==20 && hasid) break;
                if(j==19 && !hasid) break;
            }
        }

        if(hasid)
        {
            $('#zanbox').addClass('zanbox-selected');
        }

    }


    // 根据作者名更新链接

    function updateAuthor(name) {
        if(name != "pockry" && name!= "suiling" && name!= "wupeng") {
            name = "suiling";
        }
        var urls = {
            "pockry": "http://www.cocoachina.com/bbs/u.php?action=feed&username=pockry",
            "suiling": "http://www.cocoachina.com/bbs/u.php?action=feed&uid=340873",
            "wupeng": "http://www.cocoachina.com/bbs/u.php?action=feed&uid=304691"
        };
        $("#field_author").attr("href", urls[name]).html(name);
    }
    updateAuthor("suiling");

});

window.onload = function() {

    $('#sharediv').removeClass('bdshare-button-style1-32');
    $('#sharediv').attr('class','bdsharebuttonbox');
};
</script>
<script type="text/javascript" src="iOS%20KVC%20&amp;%20KVO%20_files/shCore.js"></script>
    <script type="text/javascript" src="iOS%20KVC%20&amp;%20KVO%20_files/brush.js"></script>
    <link type="text/css" rel="stylesheet" href="iOS%20KVC%20&amp;%20KVO%20_files/shCoreDefault.css">
    <script type="text/javascript">
    //SyntaxHighlighter.config.clipboardSwf = '/js/scripts/clipboard.swf';

    SyntaxHighlighter.all();</script>


<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"iOS KVC &amp; KVO - 来自CocoaChina苹果开发中文站@CocoaChina","bdMini":"2","bdMiniList":false,"bdPic":"/cms/uploads/allimg/140224/4196-140224093Z00-L.png","bdStyle":"1","bdSize":"32"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api//js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
<!--./cont-->

<!-- 回复评论框模板 -->
<script type="text/javascript" src="iOS%20KVC%20&amp;%20KVO%20_files/comment.js"></script>
<script type="text/javascript" src="iOS%20KVC%20&amp;%20KVO%20_files/mustache.js"></script>
<!-- 回复评论框模板 -->
<script id="reply_comment_template" type="x-tmpl-mustache">
    <div id="sub-reply-comment" class="reply-comment">
        <textarea name="subcomment" id="sub-reply-txt" cols="30" rows="10" placeholder="你怎么看？快来评论一下吧！"></textarea>
        <input type="hidden" id="sub-reply-id" value="{{commentid}}" />
        <input type="hidden" id="sub-reply-userid" value="{{parentuserid}}" />
        <input type="hidden" id="sub-reply-username" value="{{parentusername}}" />
        <a type="button" id="sub_comment_bt" class="submitbt">提交</a>
        <div class="clearfloat"></div>
        <div class="unlogin-mask">
            <div>您还没有登录！请<a href="/bbs/login.php">登录</a>或<a href="/bbs/register.php">注册</a></div>
        </div>
    </div>
</script>

<!-- 评论模板 -->
<script id="main_comment_template" type="x-tmpl-mustache">
    <div class="glab-comment" rel-data-id="{{comment_id}}" rel-user-id="{{user_id}}" rel-user-name="{{user_name}}" rel-layer="1">
        <div class="comment-left">
            <a href="/bbs/u.php?action=feed&uid={{user_id}}" target="_blank"><img src="{{user_icon_url}}" height="43" width="43" alt=""></a>
        </div>
        <div class="comment-right">
            <div class="comment-author"><a href="/bbs/u.php?action=feed&uid={{user_id}}" target="_blank">{{user_name}}</a><span class="puptime">{{create_time}}</span></div>
            <div class="comment-content">{{content}}</div>
            <div class="comment-buttons">
                <span class="ding">                    
                    <img src="http://cdn.cocimg.com/cms/templets/images/zan-default.png" height="14" width="14" alt="" class="default" style="{{#has_supported}} display:none; {{/has_supported}}">
                    <img src="http://cdn.cocimg.com/cms/templets/images/zan-active.png" height="14" width="14" alt="" class="actived" style="{{^has_supported}} display:none; {{/has_supported}}">
                    <span class="zancnt">{{support}}</span>
                </span>
                <span class="cai">
                    <img src="http://cdn.cocimg.com/cms/templets/images/cai-default.png" height="14" width="14" alt="" class="default" style="{{#has_reported}} display:none; {{/has_reported}}">
                    <img src="http://cdn.cocimg.com/cms/templets/images/cai-active.png" height="14" width="14" alt="" class="actived" style="{{^has_reported}} display:none; {{/has_reported}}">
                    <span class="zancnt">{{report}}</span>
                </span>
                <span class="replybt">回复</span>
            </div>
        </div>
            {{#sub}}
                <div class="glab-comment glab-sub-comment" rel-data-id="{{comment_id}}" rel-user-id="{{user_id}}" rel-user-name="{{user_name}}" rel-layer="2">
                    <div class="comment-left">
                        <a href="/bbs/u.php?action=feed&uid={{user_id}}" target="_blank"><img src="{{user_icon_url}}" height="43" width="43" alt=""></a>
                    </div>
                    <div class="comment-right">
                        <div class="comment-author"><a href="/bbs/u.php?action=feed&uid={{user_id}}" target="_blank">{{user_name}}</a><span class="puptime">{{create_time}}</span></div>
                        <div class="comment-content"><a href="/bbs/u.php?action=feed&uid={{parent_user_id}}" target="_blank">回复：{{parent}}</a>{{content}}</div>
                        <div class="comment-buttons">
                            <span class="ding">
                                <img src="http://cdn.cocimg.com/cms/templets/images/zan-default.png" height="14" width="14" alt="" class="default" style="{{#has_supported}} display:none; {{/has_supported}}">
                                <img src="http://cdn.cocimg.com/cms/templets/images/zan-active.png" height="14" width="14" alt="" class="actived" style="{{^has_supported}} display:none; {{/has_supported}}">
                                <span class="zancnt">{{support}}</span>
                            </span>
                            <span class="cai">
                                <img src="http://cdn.cocimg.com/cms/templets/images/cai-default.png" height="14" width="14" alt="" class="default" style="{{#has_reported}} display:none; {{/has_reported}}">
                                <img src="http://cdn.cocimg.com/cms/templets/images/cai-active.png" height="14" width="14" alt="" class="actived" style="{{^has_reported}} display:none; {{/has_reported}}">
                                <span class="zancnt">{{report}}</span>
                            </span>
                            <span class="replybt">回复</span>
                        </div>          
                    </div>
                </div>
            {{/sub}}         
    </div>  
</script>


<script id="sub_comment_template" type="x-tmpl-mustache">
    <div class="glab-comment glab-sub-comment" rel-data-id="{{comment_id}}" rel-user-id="{{user_id}}" rel-user-name="{{user_name}}" rel-layer="2">
        <div class="comment-left">
            <a href="/bbs/u.php?action=feed&uid={{user_id}}" target="_blank"><img src="{{user_icon_url}}" height="43" width="43" alt=""></a>
        </div>
        <div class="comment-right">
            <div class="comment-author"><a href="/bbs/u.php?action=feed&uid={{user_id}}" target="_blank">{{user_name}}</a><span class="puptime">{{create_time}}</span></div>
            <div class="comment-content"><a href="/bbs/u.php?action=feed&uid={{parent_user_id}}" target="_blank">回复：{{parent}}</a>{{content}}</div>
            <div class="comment-buttons">
                <span class="ding">
                    <img src="http://cdn.cocimg.com/cms/templets/images/zan-default.png" height="14" width="14" alt="" class="default" style="{{#has_supported}} display:none; {{/has_supported}}">
                    <img src="http://cdn.cocimg.com/cms/templets/images/zan-active.png" height="14" width="14" alt="" class="actived" style="{{^has_supported}} display:none; {{/has_supported}}">
                    <span class="zancnt">{{support}}</span>
                </span>
                <span class="cai">
                    <img src="http://cdn.cocimg.com/cms/templets/images/cai-default.png" height="14" width="14" alt="" class="default" style="{{#has_reported}} display:none; {{/has_reported}}">
                    <img src="http://cdn.cocimg.com/cms/templets/images/cai-active.png" height="14" width="14" alt="" class="actived" style="{{^has_reported}} display:none; {{/has_reported}}">
                    <span class="zancnt">{{report}}</span>
                </span>
                <span class="replybt">回复</span>
            </div>          
        </div>
    </div>
</script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-68948817-1', 'auto', {'name': 'newTracker'});
  ga('newTracker.send', 'pageview');

</script>
<!--右侧浮动-->
<div style="position: fixed; top: inherit; bottom: 10px;" class="r-bar">
    <img src="iOS%20KVC%20&amp;%20KVO%20_files/coco_weixin.png" class="weixin">
    <a href="http://weibo.com/cocoachina" target="_blank" title="" class="weibo">sina</a>
    <a href="javascript:void(0);" target="_blank" title="" class="feedback">weixin</a>
    <a href="mailto:support@cocoachina.com" title="" class="kefu">mail</a>
    <a style="display: inline;" href="javascript:;" title="回到顶部" class="returntop">回到顶部</a>
</div>

<!--./cont-->
<script type="text/javascript" src="iOS%20KVC%20&amp;%20KVO%20_files/index.js"></script>
<script language="javascript" src="iOS%20KVC%20&amp;%20KVO%20_files/bbsauth_plus2015.html" type="text/javascript"></script>
<script src="iOS%20KVC%20&amp;%20KVO%20_files/jquery_002.js" type="text/javascript"></script>
<script src="iOS%20KVC%20&amp;%20KVO%20_files/script.js" type="text/javascript"></script>

<!--footer-->
<div class="footer clearfix">
    <!--<div class="footer-t">
        <div class="friend-link">
            <h4 class="rank-tit">友情链接</h4>
            <ul>
                <li><a href="https://www.youmi.net/" target="_blank">有米 | </a></li><li><a href="http://www.testin.cn/" target="_blank">Testin | </a></li><li><a href="http://www.apicloud.com/" target="_blank">APICloud | </a></li><li><a href="http://www.oneapm.com" target="_blank">OneAPM | </a></li><li><a href="http://www.jpush.cn" target="_blank">极光推送 | </a></li><li><a href="https://store.cocos.com" target="_blank">Cocos商店 | </a></li><li><a href="http://www.woshipm.com/" target="_blank">人人都是产品经理 | </a></li><li><a href="http://link.cocos.com" target="_blank">Cocos Link | </a></li><li><a href="http://www.tuicool.com/" target="_blank">推酷网 | </a></li><li><a href="http://www.youxituoluo.com/" target="_blank">游戏陀螺 | </a></li><li><a href="http://www.9miao.com" target="_blank">9秒社团 | </a></li><li><a href="http://segmentfault.com/" target="_blank">SegmentFault | </a></li><li><a href="http://www.sykong.com/" target="_blank">手游那点事 | </a></li><li><a href="https://developer.apple.com/" target="_blank">苹果开发者中心 | </a></li><li><a href="http://www.cocos2d-x.org/" target="_blank">cocos2d-x | </a></li><li><a href="http://gamerboom.com/" target="_blank">游戏邦 | </a></li><li><a href="http://www.nooidea.com/" target="_blank">Nooidea.com | </a></li><li><a href="http://www.iapps.im/" target="_blank">爱应用</a></li>
            </ul>
        </div>
        <div class="two-code">
            <div class="wx-code">
                <img src="http://cdn.cocimg.com/assets/images/wx-code.jpg?v=20150818" alt="" />
                <span>关注微信 每日推荐</span>
            </div>
            <div class="m-code">
                <img src="http://cdn.cocimg.com/assets/images/mb-code.jpg?v=20150818" alt="" />
                <span>扫一扫 浏览移动版</span>
            </div>
        </div>
    </div>-->
    <div class="footer-b">
        <div>
            <a href="http://www.cocoachina.com/aboutus/index.html" target="_blank">关于我们</a>
            <a href="http://www.cocoachina.com/contactus/" target="_blank">商务合作</a>
            <a target="_blank" href="mailto:support@cocoachina.com">联系我们</a>
            <a href="http://www.cocoachina.com/corps/" target="_blank">合作伙伴</a>
        </div>
        <p class="footer-b-p">北京触控科技有限公司版权所有</p>
        <p>
            ©2015 Chukong Technologies,Inc.
            <i>
                <a href="http://www.miibeian.gov.cn/" target="_blank">京ICP备 11006519号 　京ICP证 100954号</a> 京公网安备11010502020289
                <a href="http://182.131.21.137/ccnt-apply/admin/business/preview/business-preview%21lookUrlRFID.action?main_id=A580B24B1AE846CE9DA949026D63939F" target="_blank">
                    <img src="iOS%20KVC%20&amp;%20KVO%20_files/jingwen.png" style="margin: -10px auto -14px -10px;">
                    京网文[2012]0426-138号
                </a>
            </i>
        </p>
    </div>
</div>

<!--./footer-->
<script language="javascript" type="text/javascript" src="iOS%20KVC%20&amp;%20KVO%20_files/dedeajax2-min.js"></script>
<script type="text/javascript">
function subscribe()
{
    var email_address = $('#demail').val();
    var preg_email = /^([\.a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/;

    if( email_address == '' )
    {
        alert('请输入邮箱');
    }
    else if( !preg_email.test(email_address) )
    {
        alert('邮箱格式错误');
    }
    else
    {
        $.post(
            '/edm.php',
            {
                email: $('#demail').val()
            },
            function(data) {
                alert(data);
             });
    }
}
function search_check()
{
    var search_keyword = $('#search_keyword').val();

    if( search_keyword.length < 2 )
    {
        alert("搜索关键字不能少于2个字节，请重新输入。");
    }
    else
    {
        $('#searchform').submit();
    }
}

var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "http://hm.baidu.com/hm.js?88399e4c4cf744609c4fc8c3a8935691";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();

$(document).ready(function(){
    if (typeof(_user_info_html) != 'undefined' && _user_info_html)
    {
        $('.nav-user-login').hide();
        $('.nav-user-name').html(_user_info_html).show();
    }

    var type = $('#type_name').html();
    if(type)
    {
        switch( type )
        {
            case 'iOS开发':
                $('#ios').addClass('light');
                break;
            case 'AppStore研究':
                $('#app_store').addClass('light');
                break;
            case 'Mac开发':
                $('#mac').addClass('light');
                break;
            case '产品设计':
                $('#design').addClass('light');
                break;
            case 'Cocos引擎':
                $('#cocos').addClass('light');
                break;
            case 'WebApp':
                $('#webapp').addClass('light');
                break;
            case 'Swift':
                $('#swift').addClass('light');
                break;
            case '游戏开发':
                $('#game').addClass('light');
                break;
            case '苹果相关':
                $('#apple').addClass('light');
                break;
            case '营销推广':
                $('#market').addClass('light');
                break;
            case '业界动态':
                $('#industry').addClass('light');
                break;
            case '程序人生':
                $('#programmer').addClass('light');
                break;
        }
    }

    //更改文章来源
    var source = $('#source a').html();
    if( source == '未知' )
        jQuery('#source a').html('CocoaChina');
    if( jQuery('#source a').attr('href')=='')
        jQuery('#source').html('来源：'+source);

    //获取用户登录的id
    var content = jQuery('.t-lid').attr("href");
    var uid = 0;
    if( content )
    {
        content = content.split('=');
        uid = content[1];
    }

    var timestamp = new Date().getTime();
    var uid_int = parseInt(uid);
    if (uid_int == uid && uid_int != 0) {
        uid = uid_int;
    } else {
        uid = parseInt($('#user-info').attr('data-uid'));
    }
    if ( uid )
    {
        uid = uid<<2;
        uid = uid+''+timestamp;
    } else {
        uid = '';
    }

    var oIframe=document.getElementById("comiframe");
    if(oIframe){
        var oUrl=window.location.href;
        oUrl = encodeURIComponent(oUrl);

        oIframe.src="/comment.php?url="+oUrl+"&uid="+uid;
    }

});
</script>
<script>CNZZ_SLOT_RENDER('337970');</script><script type="text/javascript" charset="gbk" src="iOS%20KVC%20&amp;%20KVO%20_files/appgcm.js"></script><div id="cnzz_slot_337970" style="width:-1px;height:-1px;border:none;margin:0px;padding:0px;background-color:#FFFFFF;overflow:hidden;"></div>
<div style="display:none"><a target="_blank" key="52df886aaf60041470116076" logo_size="83x30" logo_type="official" href="http://www.anquan.org/authenticate/cert/?site=www.cocoachina.com&amp;at=official">
<script src="iOS%20KVC%20&amp;%20KVO%20_files/aq_auth.js"></script><span style="display:none;" class="LOGO_aq_jsonp_wrap_" id="AQ_logo_span_init_1"><script async="true" type="text/javascript" src="iOS%20KVC%20&amp;%20KVO%20_files/a.js"></script></span><img alt="安全联盟认证" style="border: medium none;" src="iOS%20KVC%20&amp;%20KVO%20_files/gw_83x30_gray.png" height="30" width="83"></a></div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-16940817-2', 'auto');
  ga('send', 'pageview');

</script>


<div style="display: none;" id="cboxOverlay"></div><div style="display: none;" class="" id="colorbox"><div id="cboxWrapper"><div><div style="float: left;" id="cboxTopLeft"></div><div style="float: left;" id="cboxTopCenter"></div><div style="float: left;" id="cboxTopRight"></div></div><div style="clear: left;"><div style="float: left;" id="cboxMiddleLeft"></div><div style="float: left;" id="cboxContent"><div style="width: 0px; height: 0px; overflow: hidden; float: left;" id="cboxLoadedContent"></div><div style="float: left;" id="cboxLoadingOverlay"></div><div style="float: left;" id="cboxLoadingGraphic"></div><div style="float: left;" id="cboxTitle"></div><div style="float: left;" id="cboxCurrent"></div><div style="float: left;" id="cboxNext"></div><div style="float: left;" id="cboxPrevious"></div><div style="float: left;" id="cboxSlideshow"></div><div style="float: left;" id="cboxClose"></div></div><div style="float: left;" id="cboxMiddleRight"></div></div><div style="clear: left;"><div style="float: left;" id="cboxBottomLeft"></div><div style="float: left;" id="cboxBottomCenter"></div><div style="float: left;" id="cboxBottomRight"></div></div></div><div style="position: absolute; width: 9999px; visibility: hidden; display: none;"></div></div></body></html>